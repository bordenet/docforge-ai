# AI Agent Guidelines - docforge-ai

> **Generated by**: [golden-agents](https://github.com/bordenet/golden-agents) v1.4.0 (progressive)
> **Last Updated**: 2026-02-10
> **Languages**: javascript
> **Type**: web-apps

Minimal core with on-demand module loading. Templates at: `$HOME/.golden-agents/templates/`

<!-- GOLDEN:framework:start -->

---

## Quality Gates (MANDATORY)

Before ANY commit:
1. **Lint**: `npm run lint` (zero warnings)
2. **Test**: `npm test`
3. **Coverage**: Minimum 80%

**Order matters.** Lint ‚Üí Test. Never skip steps.

---

## Communication Rules

- **No flattery** - Skip "Great question!" or "Excellent point!"
- **No hype** - Avoid "revolutionary", "game-changing", "seamless"
- **Evidence-based** - Cite sources or qualify as opinion
- **Direct** - State facts without embellishment

**Banned phrases**: production-grade, world-class, leverage, utilize, incredibly, extremely, Happy to help!

---

## üö® Progressive Module Loading

**STOP and load the relevant module BEFORE these actions:**

### Language Modules (üî¥ Required)
- üî¥ **BEFORE writing ANY `.js`, `.ts`, `.jsx`, `.tsx` file**: Read `$HOME/.golden-agents/templates/languages/javascript.md`

### Workflow Modules (üî¥ Required)
- üî¥ **BEFORE any commit, PR, push, or merge**: Read `$HOME/.golden-agents/templates/workflows/security.md`
- üî¥ **WHEN tests fail OR after 2+ failed fix attempts**: Read `$HOME/.golden-agents/templates/workflows/testing.md`
- üî¥ **WHEN build fails OR lint errors appear**: Read `$HOME/.golden-agents/templates/workflows/build-hygiene.md`
- üü° **BEFORE deploying to any environment**: Read `$HOME/.golden-agents/templates/workflows/deployment.md`
- üü° **WHEN conversation exceeds 50 exchanges**: Read `$HOME/.golden-agents/templates/workflows/context-management.md`

### Project type guidance:
- Read `$HOME/.golden-agents/templates/project-types/web-apps.md`

### Optional: Superpowers integration

If [superpowers](https://github.com/obra/superpowers) is installed, run at session start:

```bash
node ~/.codex/superpowers-augment/superpowers-augment.js bootstrap
```

<!-- GOLDEN:framework:end -->

---

## Project-Specific Rules

<!-- Add project-specific guidance below this line -->

### Architecture

DocForge is a plugin-based document generation platform:

- **9 document types** as plugins in `plugins/{type}/`
- **3-phase workflow**: Claude drafts ‚Üí Gemini critiques ‚Üí Claude synthesizes
- **Per-plugin IndexedDB** for data isolation

### Plugin Structure

Each plugin in `plugins/{type}/` contains:

```
config.js       # Form fields, scoring dimensions, metadata
templates.js    # Quick-start templates
prompts/        # phase1.md, phase2.md, phase3.md
```

To add a new document type: create a folder in `plugins/`, define `config.js` and prompts, register in `plugin-registry.js`.

---

## Agent Definitions

### Agent: DraftGenerator (Phase 1)

**Purpose**: Generate initial document draft from form inputs
**Domain**: Document creation
**LLM**: Claude (user's choice of model)

| Capability | Allowed | Constraints |
|------------|---------|-------------|
| Read form data | ‚úÖ | All fields from config.js |
| Generate markdown | ‚úÖ | Must follow template structure |
| Access external APIs | ‚ùå | Prompt is copy-pasted by user |

**Inputs**: Form field values (JSON), document type, template selection
**Outputs**: Markdown document following plugin's template structure

### Agent: AdversarialCritic (Phase 2)

**Purpose**: Score and critique the draft on 5 dimensions
**Domain**: Document quality assessment
**LLM**: Gemini (different model for adversarial perspective)

| Capability | Allowed | Constraints |
|------------|---------|-------------|
| Read Phase 1 output | ‚úÖ | Full draft text |
| Score dimensions | ‚úÖ | 1-5 scale per dimension |
| Identify gaps | ‚úÖ | Must cite specific sections |
| Rewrite content | ‚ùå | Critique only, no rewrites |

**Inputs**: Phase 1 draft, scoring dimensions from config.js
**Outputs**: Dimension scores (1-5), gap analysis, improvement suggestions

### Agent: Synthesizer (Phase 3)

**Purpose**: Incorporate critique into final document
**Domain**: Document refinement
**LLM**: Claude (same as Phase 1 for consistency)

| Capability | Allowed | Constraints |
|------------|---------|-------------|
| Read Phase 1 + 2 | ‚úÖ | Draft and critique |
| Rewrite sections | ‚úÖ | Address all critique points |
| Add new content | ‚úÖ | Only to fill identified gaps |
| Remove content | ‚ö†Ô∏è | Only if critique flags as wrong |

**Inputs**: Phase 1 draft, Phase 2 critique
**Outputs**: Final document with all critique points addressed

---

## Operating Constraints

**Privacy**: Drafts stored locally in browser (IndexedDB). User controls when prompts are sent to external AI services.
**Cost**: User controls LLM costs (copy-paste workflow to external AI, not API).
**Token Limits**: Prompts designed for 8K-32K context windows.

---

## Quality Standards

- **Coverage target**: 80% (currently 84%)
- **Lint clean**: `npm run lint` must pass with zero warnings
- **Prompt templates**: Include anti-slop guidance in all phase prompts

### Git Identity

```bash
git config user.name "Matt J Bordenet"
git config user.email "bordenet@users.noreply.github.com"
```

